<section>
  <div class="col-md-12">
    <form [formGroup]="userForm " (ngSubmit)="onSubmit()">

      <div class="card">
        <div class="card-header">
          <h5>Profile</h5>
        </div>
        <div class="card-content">


          <div class="form-group">
            <input type="text" class="form-control" formControlName="username" placeholder="At least 5 characters for username"
              [ngClass]="{ 'is-invalid': submitted && f.username.errors }">
            <div class="invalid-feedback" *ngIf="f.username.errors && submitted">
              <div *ngIf="f.username.errors.required">Username is required</div>
              <div *ngIf="f.username.errors.minlength">Username must more than 5 characters</div>
            </div>
          </div>
          <div class="form-group">
            <input type="text" class="form-control" formControlName="email" placeholder="Email"
            [ngClass]="{ 'is-invalid': submitted && f.email.errors }">
            <div class="invalid-feedback" *ngIf="f.email.errors && submitted">
              <div *ngIf="f.email.errors.required">Email is required</div>
              <div *ngIf="f.email.errors.email">Email format is incorrect</div>
            </div>
          </div>
          <div class="form-group">
            <input type="phone" class="form-control" formControlName="phone" placeholder="Phone"
            [ngClass]="{ 'is-invalid': submitted && f.phone.errors }">
            <div class="invalid-feedback" *ngIf="f.phone.errors && submitted">
              <div *ngIf="f.phone.errors.required">Phone is required</div>
              <div *ngIf="f.phone.errors.minlength">At least 5 number</div>
              <div *ngIf="f.phone.errors.min">Cannot be negative number</div>
              <div *ngIf="f.phone.errors.pattern">Phone number cannot be character</div>
            </div>
          </div>

        </div>
      </div>
      <div class="card">
        <div class="card-header">
          <h5>Skillsets</h5>
          <button type="button" class="btn btn-primary btn-sm" (click)="addNewSkill()"><i class="fas fa-plus"></i>
            Add</button>
        </div>
        <div class="card-content">

          <ng-container formArrayName="skillsets"
            *ngFor="let creds of userForm.controls.skillsets?.value; let i = index; trackBy: trackByFn">

            <ng-container [formGroupName]="i">
              <div class="row">
                <div class="form-group col-md-6">
                  <input type="text" class="form-control" formControlName="type" placeholder="Skill">
                </div>
                <div class="form-group  col-md-6">
                  <input type="text" class="form-control" formControlName="version" placeholder="Version">
                </div>
              </div>
            </ng-container>
          </ng-container>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h5>Hobby</h5>
          <button type="button" class="btn btn-primary btn-sm" (click)="addNewHobby()"><i class="fas fa-plus"></i>
            Add</button>
        </div>
        <div class="card-content">


          <ng-container formArrayName="hobbys"
            *ngFor="let creds of userForm.controls.hobbys?.value; let i = index; trackBy: trackByFn">

            <ng-container [formGroupName]="i">
              <div class="form-group">
                <input type="text" class="form-control" formControlName="type" placeholder="Hobby">
              </div>

            </ng-container>
          </ng-container>
        </div>
      </div>
      <div class="card">
        <div class="card-content">
          <button class="btn btn-primary">
            Submit
          </button>
        </div>
      </div>


    </form>
  </div>

</section>
